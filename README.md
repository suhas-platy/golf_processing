# What this is

Experiments with EEG data, originally starting with the old ABM golf data.

# Setup 

## Data

Download from Dropbox and put it in ../data.  Keep the original folder names; e.g., put Science And Research\Data Aquisition\ABM - Old Golf Data in ../data/ABM - Old Golf Data.

### ABM - Old Golf Data

0261, etc.

* Original files:  ---.ebs.edf and ---.Markers.csv, where --- is the subject ID plus trail info.    
* Files generated by labx_conversion.blab: ---.ebs.edf_Data.csv, ---.ebs.edf_DataQuality.csv, and ---Markers.mrk_Paired.csv
* Files generated by labx_conversion2.blab: ---.ebs.edf.EEGLAB.edf, ---.ebs.edf_EEGLAB.csv, X24 Visual.ced and ---_Markers.mrk_Events_EEGLAB.csv

### AMB Kangaroo Data

0001_0, etc.

### Flanker Task
````
INFO: sending marker trial-begin at 1249562.15252
INFO: sending marker response-window-begin at 1249562.15257
INFO: sending marker right-flanker at 1249562.15259
INFO: sending marker picture-begin at 1249562.15275
INFO: sending marker picture-end at 1249562.24999
INFO: sending marker congruent-stimulus at 1249562.25005
INFO: sending marker picture-begin at 1249562.2502
INFO: sending marker picture-end at 1249562.40318
INFO: sending marker fixation-cross at 1249562.40324
INFO: sending marker crosshair-begin at 1249562.40352
INFO: sending marker arrow_right pressed at 1249562.56467
INFO: sending marker response-received-arrow_right at 1249562.57052
INFO: sending marker crosshair-end at 1249563.80291
INFO: sending marker response-window-end at 1249563.80302
INFO: sending marker response-was-correct at 1249563.80303
INFO: sending marker trial-end at 1249563.80305

INFO: sending marker trial-begin at 1249563.80306
INFO: sending marker response-window-begin at 1249563.8031
INFO: sending marker right-flanker at 1249563.80311
INFO: sending marker picture-begin at 1249563.80326
INFO: sending marker picture-end at 1249564.00482
INFO: sending marker incongruent-stimulus at 1249564.00488
INFO: sending marker picture-begin at 1249564.00503
INFO: sending marker picture-end at 1249564.15104
INFO: sending marker fixation-cross at 1249564.15111
INFO: sending marker crosshair-begin at 1249564.15138
INFO: sending marker arrow_left pressed at 1249564.31439
INFO: sending marker response-received-arrow_left at 1249564.31843
INFO: sending marker crosshair-end at 1249565.45345
INFO: sending marker response-window-end at 1249565.45355
INFO: sending marker response-was-correct at 1249565.45356
INFO: sending marker trial-end at 1249565.45357
````
## Software

### NeuroPype

### MNE

Follow instructions here: https://martinos.org/mne/stable/install_mne_python.html#get-mne-and-its-dependencies
Everytime you start a session, you'll have to do `activate mne`

### LabX

### EEGLab

# Running

## ABM - Old Golf Data

Copy ./labx_conversion.blab and ./labx_conversion2.blab to the data directory (e.g., data\ABM - Old Golf Data\NUGA Golfers\0261\0261) you want then run in LabX.

Open the EDF created by ./labx_conversion2.blab in EEGLab (File->Import data...); click OK through all the dialogue boxes.
* For Suhas, C:\Users\suhas\Desktop\prjs\golf_processing\data\ABM - Old Golf Data\NUGA Golfers\0261\0261\026111501.ebs.edf.EEGLAB.edf
* Do not view it yet (wait until events are loaded).

Then change the events file into something EEGLab can read; run ./convert_events.m

Then import the events using the instructions here: https://irenevigueguix.wordpress.com/2016/04/22/eeglab-tutorial-analysis-of-eeg-data-using-eeglab/, Step 3.
* File->Import event data->From Matlab ... and point it to the file saved fro the previous step.
** For Suhas, C:\Users\suhas\Desktop\prjs\golf_processing\data\ABM - Old Golf Data\NUGA Golfers\0261\0261\events_eeglab.csv
* Input field (column) names: latency	type
* Number of file header lines: 1

Then view it (Plot->Channel data (scroll)); make sure you click on Norm.

Then view the events (Settings->Events-Events On) and set the time to just before an event occurs (the time is the number between << < and > >>; e.g., 30 seconds). 

## TPI 

## Etc.

tmp - old files to convert ABM files to EEGLab

ConvertRTA.py - custom node to import ABM Makers (WIP; doesn't fully work)

Frequent Domain Plotting.py - export of Frequency Domain Plotting.pyp

Frequency Domain Plotting.pyp - hit "-" several times when the file comes up; eventually only signal on the time sync will be shown

mne_view.py - shows proper EEG signals

Time Domain Plotting.pyp - important -- remove last 6 channels; also data already appears to be filtered so applying the filter on top of the data doesn't give good results